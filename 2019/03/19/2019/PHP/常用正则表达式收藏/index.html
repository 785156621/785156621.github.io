<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 常用正则表达式收藏 · gdmizi</title><meta name="description" content="常用正则表达式收藏 - gd"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="gdmizi"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/logo.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">首页</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="http://weibo.com/3774381537" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="https://github.com/785156621" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">常用正则表达式收藏</h1><div class="post-info">2019年3月19日</div><div class="post-content"><h1 id="常用正则表达式"><a href="#常用正则表达式" class="headerlink" title="常用正则表达式"></a>常用正则表达式</h1><h3 id="手机号码"><a href="#手机号码" class="headerlink" title="手机号码"></a>手机号码</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/^<span class="number">1</span>[<span class="number">345789</span>]\d&#123;<span class="number">9</span>&#125;$/</span><br></pre></td></tr></table></figure>
<h3 id="邮箱"><a href="#邮箱" class="headerlink" title="邮箱"></a>邮箱</h3><p><em>规则:</em></p>
<blockquote>
<p>邮箱基本格式是  *<strong>*<em>@\</em>*.</strong><br>@以前是一个 大小写的字母或者数字开头，紧跟0到多个大小写字母或者数字或 . _ - 的字符串<br>@之后到.之前是 1到多个大小写字母或者数字的字符串<br>.之后是 1到多个 大小写字母或者数字或者.的字符串</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$</span><br><span class="line"></span><br><span class="line"># 严格的</span><br><span class="line">^[a-zA-Z0<span class="number">-9</span>][a-zA-Z0<span class="number">-9.</span>_-]*\@[a-zA-Z0<span class="number">-9</span>]+\.[a-zA-Z0<span class="number">-9</span>\.]+$</span><br></pre></td></tr></table></figure>
<h3 id="中文"><a href="#中文" class="headerlink" title="中文"></a>中文</h3><p><em>规则:</em></p>
<blockquote>
<p>GBK (GB2312/GB18030)<br>x00-xff GBK双字节编码范围<br>x20-x7f ASCII<br>xa1-xff 中文 gb2312<br>x80-xff 中文 gbk<br>UTF-8 (Unicode)<br>u4e00-u9fa5 (中文)</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^[\u4e00-\u9fa5]+$</span><br></pre></td></tr></table></figure>
<h3 id="邮政编码"><a href="#邮政编码" class="headerlink" title="邮政编码"></a>邮政编码</h3><p><em>规则:</em></p>
<blockquote>
<p>六位数字，第一位不能为0</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^[<span class="number">1</span><span class="number">-9</span>]\d&#123;<span class="number">5</span>&#125;$</span><br></pre></td></tr></table></figure>
<h3 id="电话号码"><a href="#电话号码" class="headerlink" title="电话号码"></a>电话号码</h3><p><em>规则:</em></p>
<blockquote>
<p>区号：3到5位，大部分都是四位。北京(010)和上海市(021)三位，西藏有部分五位，可以包裹在括号内也可以没有<br>如果有区号由括号包裹，则在区号和号码之间可以有0到1个空格，如果区号没有由括号包裹，则区号和号码之间可以有两位长度的 或者-<br>号码：7到8位的数字<br>例如：(010) 12345678  或者 (010)12345678 或者 010  12345678 或者 010–12345678  </p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 简单的：仅检测  010-12345678 形式的</span><br><span class="line">^\d&#123;<span class="number">3</span>&#125;-\d&#123;<span class="number">8</span>&#125;|\d&#123;<span class="number">4</span>&#125;-\d&#123;<span class="number">7</span>&#125;|\d&#123;<span class="number">7</span>&#125;|\d&#123;<span class="number">8</span>&#125;$</span><br><span class="line"></span><br><span class="line"># 严格的</span><br><span class="line">^(((<span class="number">010</span>)|(<span class="number">021</span>)|(<span class="number">0</span>\d3,<span class="number">4</span>))( ?)([<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">7</span>,<span class="number">8</span>&#125;))|((<span class="number">010</span>|<span class="number">021</span>|<span class="number">0</span>\d&#123;<span class="number">3</span>,<span class="number">4</span>&#125;))([- ]&#123;<span class="number">0</span>,<span class="number">2</span>&#125;)([<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">7</span>,<span class="number">8</span>&#125;)$</span><br></pre></td></tr></table></figure>
<h3 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h3><p><em>规则:</em></p>
<blockquote>
<p>协议://域名（www/tieba/baike…）.名称.后缀/文件路径/文件名<br><a href="http://zhidao.baidu.com/question/535596723.html" target="_blank" rel="noopener">http://zhidao.baidu.com/question/535596723.html</a><br>协议://域名（www/tieba/baike…）.名称.后缀/文件路径/文件名?参数<br><a href="http://www.lhrb.com.cn/portal.php?mod=view&amp;aid=7412" target="_blank" rel="noopener">www.lhrb.com.cn/portal.php?mod=view&amp;aid=7412</a><br>协议://域名（www/tieba/baike…）.名称.后缀/文件路径/文件名/参数<br><a href="http://www.xugou.com.cn/yiji/erji/index.php/canshu/11" target="_blank" rel="noopener">http://www.xugou.com.cn/yiji/erji/index.php/canshu/11</a><br> 协议：可有可无，由大小写字母组成；不写协议则不应存在://，否则必须存在://<br>域名：必须存在，由大小写字母组成<br>名称：必须存在，字母数字汉字<br>后缀：必须存在，大小写字母和.组成<br>文件路径：可有可无，由大小写字母和数字组成<br>文件名：可有可无，由大小写字母和数字组成<br>参数:可有可无，存在则必须由?开头，即存在?开头就必须有相应的参数信息 </p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 简单的</span><br><span class="line">^https?:\/\/.+$</span><br><span class="line"></span><br><span class="line"># 严格的</span><br><span class="line">^(([a-zA-Z]+)(:\/\/))?([a-zA-Z]+)\.(\w+)\.([\w.]+)(\/([\w]+)\/?)*(\/[a-zA-Z0<span class="number">-9</span>]+\.(\w+))*(\/([\w]+)\/?)*(\?(\w+=?[\w]*))*((&amp;?\w+=?[\w]*))*$</span><br></pre></td></tr></table></figure>
<h3 id="车牌号"><a href="#车牌号" class="headerlink" title="车牌号"></a>车牌号</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^[\u4E00-\u9FA5][\da-zA-Z]&#123;<span class="number">6</span>&#125;$</span><br></pre></td></tr></table></figure>
<h3 id="身份证号-IC"><a href="#身份证号-IC" class="headerlink" title="身份证号(IC)"></a>身份证号(IC)</h3><p><em>规则:</em></p>
<blockquote>
<p>15位纯数字或者18位纯数字或者17位数字加一位x</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^(([<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">15</span>&#125;)|([<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">18</span>&#125;)|([<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">17</span>&#125;x))$</span><br></pre></td></tr></table></figure>
<h3 id="IP"><a href="#IP" class="headerlink" title="IP"></a>IP</h3><p><em>规则:</em></p>
<blockquote>
<p>格式： xx1.xx2.xx3.xx4<br>xx1可以是一位的 1-9，两位的01-99，三位的001-255<br>xx2和xx3可以是一位的0-9，两位的00-99,三位的000-255<br>xx4可以是一位的 1-9，两位的01-99，三位的001-255<br>四个参数必须存在</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 简单的:</span><br><span class="line">^\d&#123;<span class="number">1</span>,<span class="number">3</span>&#125;\.\d&#123;<span class="number">1</span>,<span class="number">3</span>&#125;\.\d&#123;<span class="number">1</span>,<span class="number">3</span>&#125;\.\d&#123;<span class="number">1</span>,<span class="number">3</span>&#125;$</span><br><span class="line"></span><br><span class="line"># 严格的：</span><br><span class="line">^((([<span class="number">1</span><span class="number">-9</span>])|((<span class="number">0</span>[<span class="number">1</span><span class="number">-9</span>])|([<span class="number">1</span><span class="number">-9</span>][<span class="number">0</span><span class="number">-9</span>]))|((<span class="number">00</span>[<span class="number">1</span><span class="number">-9</span>])|(<span class="number">0</span>[<span class="number">1</span><span class="number">-9</span>][<span class="number">0</span><span class="number">-9</span>])|((<span class="number">1</span>[<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">2</span>&#125;)|(<span class="number">2</span>[<span class="number">0</span><span class="number">-4</span>][<span class="number">0</span><span class="number">-9</span>])|(<span class="number">25</span>[<span class="number">0</span><span class="number">-5</span>]))))\.)((([<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">1</span>,<span class="number">2</span>&#125;)|(([<span class="number">0</span><span class="number">-1</span>][<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">2</span>&#125;)|(<span class="number">2</span>[<span class="number">0</span><span class="number">-4</span>][<span class="number">0</span><span class="number">-9</span>])|(<span class="number">25</span>[<span class="number">0</span><span class="number">-5</span>])))\.)&#123;<span class="number">2</span>&#125;(([<span class="number">1</span><span class="number">-9</span>])|((<span class="number">0</span>[<span class="number">1</span><span class="number">-9</span>])|([<span class="number">1</span><span class="number">-9</span>][<span class="number">0</span><span class="number">-9</span>]))|(<span class="number">00</span>[<span class="number">1</span><span class="number">-9</span>])|(<span class="number">0</span>[<span class="number">1</span><span class="number">-9</span>][<span class="number">0</span><span class="number">-9</span>])|((<span class="number">1</span>[<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">2</span>&#125;)|(<span class="number">2</span>[<span class="number">0</span><span class="number">-4</span>][<span class="number">0</span><span class="number">-9</span>])|(<span class="number">25</span>[<span class="number">0</span><span class="number">-5</span>])))$</span><br></pre></td></tr></table></figure>
<h3 id="时间"><a href="#时间" class="headerlink" title="时间"></a>时间</h3><p><em>规则:</em></p>
<blockquote>
<p>形式可以为：<br>  年-月-日 小时:分钟:秒<br>  年-月-日 小时:分钟<br>  年-月-日<br>  年：1或2开头的四位数<br>  月：1位1到9的数；0或1开头的两位数，0开头的时候个位数是1到9的数，1开头的时候个位数是1到2的数<br>  日：1位1到9的数；0或1或2或3开头的两位数，0开头的时候个位数是1到9的数，1或2开头的时候个位数是0到9的数，3开头的时候个位数是0或1<br>  小时：0到9的一位数；0或1开头的两位数，个位是0到9；2开头的两位数，个位是0-3<br>  分钟：0到9的一位数；0到5开头的两位数，个位是0到9；<br>  分钟：0到9的一位数；0到5开头的两位数，各位是0到9 </p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^(([<span class="number">1</span><span class="number">-2</span>][<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">3</span>&#125;-)((([<span class="number">1</span><span class="number">-9</span>])|(<span class="number">0</span>[<span class="number">1</span><span class="number">-9</span>])|(<span class="number">1</span>[<span class="number">0</span><span class="number">-2</span>]))-)((([<span class="number">1</span><span class="number">-9</span>])|(<span class="number">0</span>[<span class="number">1</span><span class="number">-9</span>])|([<span class="number">1</span><span class="number">-2</span>][<span class="number">0</span><span class="number">-9</span>])|(<span class="number">3</span>[<span class="number">0</span><span class="number">-1</span>]))))( ((([<span class="number">0</span><span class="number">-9</span>])|(([<span class="number">0</span><span class="number">-1</span>][<span class="number">0</span><span class="number">-9</span>])|(<span class="number">2</span>[<span class="number">0</span><span class="number">-3</span>]))):(([<span class="number">0</span><span class="number">-9</span>])|([<span class="number">0</span><span class="number">-5</span>][<span class="number">0</span><span class="number">-9</span>]))(:(([<span class="number">0</span><span class="number">-9</span>])|([<span class="number">0</span><span class="number">-5</span>][<span class="number">0</span><span class="number">-9</span>])))?))?$</span><br></pre></td></tr></table></figure>
<h1 id="JavaScript用法"><a href="#JavaScript用法" class="headerlink" title="JavaScript用法"></a>JavaScript用法</h1><p>js里常使用<code>regexp.test(string)</code>方法进行正则匹配。示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^1[345789]\d&#123;9&#125;$/</span>;</span><br><span class="line"><span class="keyword">if</span>(reg.test(<span class="string">'13287656432'</span>))&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'成功'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意，js里的正则本身是个对象，不要加引号。匹配返回值：如果字符串string中含有与regexp匹配的文本，就返回true，否则返回false。</p>
<p>常用正则方法：</p>
<p>检测手机号：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isMobile</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> reg = <span class="regexp">/^1[345789]\d&#123;9&#125;$/</span>;</span><br><span class="line">    <span class="keyword">if</span>(reg.test(num))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>检测中文：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isChinese</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> reg = <span class="regexp">/^[\u4E00-\u9FA5]+$/</span>;</span><br><span class="line">    <span class="keyword">if</span>(reg.test(str))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>检测车牌号：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isTruckNum</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> reg = <span class="regexp">/^[\u4E00-\u9FA5][\da-zA-Z]&#123;6&#125;$/</span>;</span><br><span class="line">    <span class="keyword">if</span>(reg.test(num))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>一个比较好用的正则匹配方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is</span>(<span class="params">type, value</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> map = &#123;</span><br><span class="line">        <span class="string">"English"</span> : <span class="regexp">/^\w+$/</span>,</span><br><span class="line">        <span class="string">"password"</span> : <span class="regexp">/^.&#123;6,20&#125;$/</span>,</span><br><span class="line">        <span class="string">"username"</span> : <span class="regexp">/^\w&#123;3,20&#125;$/</span>,</span><br><span class="line">        <span class="string">"int"</span> : <span class="regexp">/^\d+$/</span>,</span><br><span class="line">        <span class="string">"url"</span> : <span class="regexp">/^https?:\/\/.+$/</span>,</span><br><span class="line">        <span class="string">"Chinese"</span> : <span class="regexp">/^[\u4e00-\u9fa5]+$/</span>,</span><br><span class="line">        <span class="string">"mobile"</span> : <span class="regexp">/^1[345789]\d&#123;9&#125;$/</span>,</span><br><span class="line">        <span class="string">"ip"</span> : <span class="regexp">/^\d+([\.:]\d+)+$/</span>,</span><br><span class="line">        <span class="string">"telphone"</span> : <span class="regexp">/^\d&#123;3&#125;-\d&#123;8&#125;|\d&#123;4&#125;-\d&#123;7&#125;|\d&#123;7&#125;|\d&#123;8&#125;$/</span>,</span><br><span class="line">        <span class="string">"email"</span> : <span class="regexp">/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/</span>,</span><br><span class="line">        <span class="string">"truck_num"</span> : <span class="regexp">/^[\u4E00-\u9FA5][\da-zA-Z]&#123;6&#125;$/</span>, <span class="comment">//车牌号</span></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> map[type].test(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意最后一句<code>map[type]</code>不能写成<code>map.type</code>。</p>
<p>调用方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(is(<span class="string">'mobile'</span>, <span class="string">'13287656432'</span>))&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'成功'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="PHP用法"><a href="#PHP用法" class="headerlink" title="PHP用法"></a>PHP用法</h1><p>PHP里使用<code>preg_match()</code>匹配正则。示例：</p>
<p>匹配手机号码：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(preg_match(<span class="string">'/^1[345789]\d&#123;9&#125;$/'</span>, <span class="string">'13287656432'</span>))&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'成功'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>preg_match()</code> 返回 pattern 的匹配次数。 它的值将是0次（不匹配）或1次，因为 <code>preg_match()</code> 在第一次匹配后 将会停止搜索。 <code>preg_match_all()</code> 不同于此，它会一直搜索subject直到到达结尾。 如果发生错误 preg_match() 返回 FALSE 。</p>
<p>特别注意的是php里的中文匹配有点特殊。php中是用\x表示十六进制数据的。那么最终匹配中文的表达式是：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(preg_match(<span class="string">'"/^[\x&#123;4e00&#125;-\x&#123;9fa5&#125;]+/u"'</span>, <span class="string">'中文'</span>))&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'成功'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里给个写的比较好的方法，可以检测常用的正则：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 类型判断</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@example</span> is('url', 'baidu.com');//返回false</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is</span><span class="params">($type, $var)</span> </span>&#123;</span><br><span class="line">    $map = <span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'English'</span> =&gt; <span class="string">'/^\w+$/'</span>,</span><br><span class="line">        <span class="string">'password'</span> =&gt; <span class="string">'/^.&#123;6,20&#125;$/'</span>,</span><br><span class="line">        <span class="string">'username'</span> =&gt; <span class="string">'/^\w&#123;3,20&#125;$/'</span>,</span><br><span class="line">        <span class="string">'int'</span> =&gt; <span class="string">'/^\d+$/'</span>,</span><br><span class="line">        <span class="string">'url'</span> =&gt; <span class="string">'/^https?:\/\/.+$/'</span>,</span><br><span class="line">        <span class="string">'Chinese'</span> =&gt; <span class="string">'/^[\x&#123;4e00&#125;-\x&#123;9fa5&#125;]+$/u'</span>,</span><br><span class="line">        <span class="string">'mobile'</span> =&gt; <span class="string">'/^1[345789]\d&#123;9&#125;$/'</span>,</span><br><span class="line">        <span class="string">'ip'</span> =&gt; <span class="string">'/^\d+([\.:]\d+)+$/'</span>,</span><br><span class="line">        <span class="string">'telphone'</span> =&gt; <span class="string">'/^\d&#123;3&#125;-\d&#123;8&#125;|\d&#123;4&#125;-\d&#123;7&#125;|\d&#123;7&#125;|\d&#123;8&#125;$/'</span>,</span><br><span class="line">        <span class="string">'email'</span> =&gt; <span class="string">'/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/'</span>,</span><br><span class="line">        <span class="string">'truck_num'</span> =&gt; <span class="string">'/^[\x&#123;4e00&#125;-\x&#123;9fa5&#125;][a-zA-Z\d]&#123;6&#125;$/u'</span>, <span class="comment">//车牌号</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">isset</span>($map[$type]) &amp;&amp; preg_match($map[$type], $var);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>调用方法：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(is(<span class="string">'mobile'</span>, <span class="string">'13287656432'</span>))&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'成功'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Python用法"><a href="#Python用法" class="headerlink" title="Python用法"></a>Python用法</h1><p>Python里使用<code>re</code>模块的<code>match()</code>方法进行正则匹配：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding: utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> re.match(<span class="string">r'^1[35789]\d&#123;9&#125;$'</span>, <span class="string">'13271222223'</span>):</span><br><span class="line">    print(<span class="string">'ok'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'not match'</span>)</span><br></pre></td></tr></table></figure>
<p>如果匹配成功，返回一个<code>Match</code>对象，否则返回<code>None</code>。</p>
<p><em>参考：</em></p>
<blockquote>
<p>1、正则表达式30分钟入门教程<em>脚本之家<br><a href="http://www.jb51.net/tools/zhengze.html" target="_blank" rel="noopener">http://www.jb51.net/tools/zhengze.html</a><br>2、php中utf-8编码下用正则表达式如何匹配汉字</em>正则表达式_脚本之家<br><a href="http://www.jb51.net/article/19790.htm" target="_blank" rel="noopener">http://www.jb51.net/article/19790.htm</a><br>3、<a href="http://blog.csdn.net/eightwhells/article/details/8935390" target="_blank" rel="noopener">http://blog.csdn.net/eightwhells/article/details/8935390</a><br>4、Python学习–16 正则表达式 - 飞鸿影~ - 博客园<br><a href="http://www.cnblogs.com/52fhy/p/6376296.html" target="_blank" rel="noopener">http://www.cnblogs.com/52fhy/p/6376296.html</a></p>
</blockquote>
<p>本文转载自 <a href="https://www.cnblogs.com/52fhy/p/5616487.html" target="_blank" rel="noopener">https://www.cnblogs.com/52fhy/p/5616487.html</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/2019/03/20/2019/PHP/php 计算两个日期的间隔天数/" class="prev">上一篇</a><a href="/2019/03/19/2019/PHP/PHP设计模式之--观察者模式/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2019 <a href="http://yoursite.com">gd</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>