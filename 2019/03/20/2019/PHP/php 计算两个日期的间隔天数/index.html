<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> php 计算两个日期的间隔天数 · gdmizi</title><meta name="description" content="php 计算两个日期的间隔天数 - gd"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="gdmizi"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/logo.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">首页</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="http://weibo.com/3774381537" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="https://github.com/785156621" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">php 计算两个日期的间隔天数</h1><div class="post-info">2019年3月20日</div><div class="post-content"><h2 id="使用php内部自带函数实现"><a href="#使用php内部自带函数实现" class="headerlink" title="使用php内部自带函数实现"></a>使用php内部自带函数实现</h2><h3 id="1、使用DateTime-diff-实现计算-参考阅读-gt-gt-PHP-DateTime-diff"><a href="#1、使用DateTime-diff-实现计算-参考阅读-gt-gt-PHP-DateTime-diff" class="headerlink" title="1、使用DateTime::diff 实现计算  参考阅读&gt;&gt;PHP DateTime::diff()"></a>1、使用DateTime::diff 实现计算  参考阅读&gt;&gt;PHP DateTime::diff()</h3><p>上代码：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">$start = <span class="string">"2016-05-25"</span>;</span><br><span class="line">$end   = <span class="string">"2016-05-23"</span>;</span><br><span class="line"> </span><br><span class="line">$datetime_start = <span class="keyword">new</span> DateTime($start);</span><br><span class="line">$datetime_end   = <span class="keyword">new</span> DateTime($end);</span><br><span class="line">var_dump($datetime_start-&gt;diff($datetime_end));</span><br></pre></td></tr></table></figure>
<p><em>结果</em></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">object(DateInterval)[<span class="number">3</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="string">'y'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'m'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'d'</span> =&gt; int <span class="number">2</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'h'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'i'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'s'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'weekday'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'weekday_behavior'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'first_last_day_of'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'invert'</span> =&gt; int <span class="number">1</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'days'</span> =&gt; int <span class="number">2</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'special_type'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'special_amount'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'have_weekday_relative'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'have_special_relative'</span> =&gt; int <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>由结果我们知道，想要得出时间差，可以用下面方法实现</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$start = <span class="string">"2016-05-25"</span>;</span><br><span class="line">$end   = <span class="string">"2016-05-23"</span>;</span><br><span class="line"> </span><br><span class="line">$datetime_start = <span class="keyword">new</span> DateTime($start);</span><br><span class="line">$datetime_end   = <span class="keyword">new</span> DateTime($end);</span><br><span class="line">$days = $datetime_start-&gt;diff($datetime_end)-&gt;days;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"时间差是:$days"</span>;</span><br></pre></td></tr></table></figure>
<p><em>最终结果为</em></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">时间差是:<span class="number">2</span></span><br></pre></td></tr></table></figure>
<h3 id="2-date-create-、date-diff-实现"><a href="#2-date-create-、date-diff-实现" class="headerlink" title="2.date_create()、date_diff()实现"></a>2.date_create()、date_diff()实现</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$start = <span class="string">"2016-05-25"</span>;</span><br><span class="line">$end   = <span class="string">"2016-05-23"</span>;</span><br><span class="line"> </span><br><span class="line">$datetime_start = date_create($start);</span><br><span class="line">$datetime_end   = date_create($end);</span><br><span class="line">$days = date_diff($datetime_start, $datetime_end);</span><br><span class="line">var_dump($days);</span><br></pre></td></tr></table></figure>
<p><em>打印结果</em></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">object(DateInterval)[<span class="number">3</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="string">'y'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'m'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'d'</span> =&gt; int <span class="number">2</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'h'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'i'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'s'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'weekday'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'weekday_behavior'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'first_last_day_of'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'invert'</span> =&gt; int <span class="number">1</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'days'</span> =&gt; int <span class="number">2</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'special_type'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'special_amount'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'have_weekday_relative'</span> =&gt; int <span class="number">0</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'have_special_relative'</span> =&gt; int <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>具体实现：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$start = <span class="string">"2016-05-25"</span>;</span><br><span class="line">$end   = <span class="string">"2016-05-23"</span>;</span><br><span class="line"> </span><br><span class="line">$datetime_start = date_create($start);</span><br><span class="line">$datetime_end   = date_create($end);</span><br><span class="line">$days = date_diff($datetime_start, $datetime_end)-&gt;days;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"时间间隔是：$days"</span>;</span><br></pre></td></tr></table></figure>
<p><em>结果</em></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">时间间隔是：<span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>本文转载自 <a href="https://blog.csdn.net/zhengwish/article/details/51496022" target="_blank" rel="noopener">https://blog.csdn.net/zhengwish/article/details/51496022</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/2019/03/19/2019/PHP/常用正则表达式收藏/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2019 <a href="http://yoursite.com">gd</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>